<!DOCTYPE html>

<html lang="es">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>Muri Muri — Café</title>
<meta content="Muri Muri — café de especialidad en Coyoacán, CDMX." name="description"/>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&amp;family=Space+Grotesk:wght@700;800&amp;display=swap" rel="stylesheet"/>
<style>
    :root{ --accent:#eaad96; --ink:#0f0f0f; --muted:#6a6a6a; --max:1180px }
    *{box-sizing:border-box}
    body{margin:0;background:#fff;color:var(--ink);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;line-height:1.6}
    a{color:inherit;text-decoration:none}
    .wrap{max-width:var(--max);margin:0 auto;padding:0 20px}
    header{position:sticky;top:0;z-index:50;background:rgba(255,255,255,.9);backdrop-filter:saturate(1.2) blur(8px);border-bottom:1px solid rgba(0,0,0,.06)}
    .nav{display:grid;grid-template-columns:1fr auto 1fr;align-items:center;height:68px}
    .nav a{font-weight:600}
    .brand .wordmark{font-family:'Space Grotesk',Inter,sans-serif;font-weight:800;letter-spacing:.06em}

    /* --- FONTS --- */
    @font-face{
      font-family: 'Marfa';
      src: url('assets/fonts/ABCMARFA-SEMIBOLD-TRIAL.otf') format('opentype');
      font-weight: 700;
      font-style: normal;
      font-display: swap;
    }
    @font-face{
      font-family: 'MuriSans';
      src: url('assets/fonts/Regular.ttf') format('truetype');
      font-weight: 400;
      font-style: normal;
      font-display: swap;
    }
    body{ font-family: 'MuriSans', Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; }
    .brand .wordmark{ font-family: 'Marfa','Space Grotesk',Inter,sans-serif; font-weight:700; letter-spacing:.06em; }

    /* Stage (no border line) */
    #stage{
      position:relative;
      height:min(64vh, 600px);
      min-height:420px;
      margin:18px auto 8px;
      max-width:var(--max);
      background:#fff;
      border:0;
      border-radius:20px;
      overflow:hidden;
    }

    /* Floating squares */
    .bubble{
      position:absolute;
      display:none;
      width:230px;
      transition:opacity .5s ease, transform .5s ease;
      opacity:0;
      cursor:pointer;
    }
    .bubble.show{ display:block; opacity:1 }
    .bubble img{width:100%; height:auto; border-radius:16px; border:1px solid rgba(0,0,0,.06); display:block; object-fit:cover}
    .bubble figcaption{position:absolute; left:10px; bottom:10px; padding:6px 10px; border-radius:999px; background:rgba(234,173,150,.95); color:#000; font-weight:700; font-size:.9rem; font-family:'Space Grotesk',Inter,sans-serif}

    /* Bouncing logo image (200%) */
    #bouncer{
      position:fixed; left:20px; top:8px; z-index:70; cursor:pointer; opacity:.98;
      filter:drop-shadow(0 6px 16px rgba(0,0,0,.25));
      width:clamp(360px, 80vw, 960px);
    }
    @media (max-width:640px){ #bouncer{ width:86vw } }

    #locked{display:none}

    /* Modal */
    .modal{position:fixed; inset:0; background:rgba(0,0,0,.6); display:none; align-items:center; justify-content:center; padding:20px; z-index:80}
    .modal.open{display:flex}
    .sheet{background:#fff; border-radius:16px; max-width:980px; width:100%; box-shadow:0 20px 60px rgba(0,0,0,.25); overflow:hidden}
    .sheet iframe{width:100%; height:86vh; border:0; background:#fff}
    .sheet .pad{padding:16px}
    .btn{display:inline-flex; align-items:center; gap:8px; padding:12px 18px; border-radius:999px; border:1px solid rgba(0,0,0,.12); font-weight:600}
    .btn.primary{background:var(--accent); border-color:transparent; color:#000}

    footer{padding:36px 0 48px; border-top:1px solid rgba(0,0,0,.06)}
    .footer-grid{display:grid; gap:18px; grid-template-columns:2fr 1fr 1fr}
    .tiny{font-size:.92rem; color:var(--muted)}
    #runner{width:100%; height:auto; display:block; max-width:960px; margin:0 auto}
  
/* Ensure brand and body fonts */
@font-face{
  font-family: 'Marfa';
  src: url('assets/fonts/ABCMARFA-SEMIBOLD-TRIAL.otf') format('opentype');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}
@font-face{
  font-family: 'MuriSans';
  src: url('assets/fonts/Regular.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}
body{ font-family: 'MuriSans', Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; }
.brand .wordmark{ font-family: 'Marfa','Space Grotesk',Inter,sans-serif; font-weight:700; letter-spacing:.06em; }

/* Playfield fills viewport between header and dock */
.playfield{position:relative;width:100%;height:calc(100dvh - 68px - 68px);background:linear-gradient(180deg,#fff,#fde9e2);overflow:hidden}
/* Logo 400% bigger (from 160px -> 640px) */
#logo{position:absolute;width:640px;filter:drop-shadow(0 6px 16px rgba(0,0,0,.25));cursor:pointer;z-index:2}
#logo.logo-fallback{padding:24px 30px;background:#eaad96;color:#000;font-family:'Marfa','Space Grotesk',Inter,sans-serif;font-weight:700;text-transform:uppercase}
/* Photos: square corners, bigger sizes, FADE ONLY */
.photo{position:absolute;object-fit:cover;border:1px solid rgba(0,0,0,.08);opacity:0;transition:opacity .6s ease;z-index:1;pointer-events:none;box-shadow:0 8px 24px rgba(0,0,0,.12)}
.photo.show{opacity:1}
/* Bottom dock with 4 even links */
.dock{position:sticky;bottom:0;height:68px;background:rgba(255,255,255,.9);border-top:1px solid rgba(0,0,0,.06);backdrop-filter:saturate(1.2) blur(8px)}
.dock .row{height:68px;display:grid;grid-template-columns:repeat(4,1fr);align-items:center;justify-items:center}
.dock a{font-weight:600}
.dock .icon{width:18px;height:18px;vertical-align:-3px;margin-right:6px}
/* Hide old floating bouncer image if present */
#bouncer{display:none !important}
    
/* --- Menu viewer (no PDF chrome), mobile ready --- */
.viewer{position:relative;max-width:980px;width:100%;background:#fff}
.viewer .fit{height:min(92vh,800px);width:100%;display:flex;align-items:center;justify-content:center;background:#fff}
.viewer img,.viewer iframe{max-width:100%;max-height:100%;border:0}
.viewer iframe{display:none} /* show only if JPG fallback fails */
.viewer .chrome{position:absolute;top:8px;left:8px;right:8px;display:flex;justify-content:space-between;pointer-events:none}
.viewer .btnIcon{pointer-events:auto;-webkit-tap-highlight-color:transparent;background:rgba(255,255,255,.95);border:1px solid rgba(0,0,0,.12);border-radius:999px;width:40px;height:40px;display:grid;place-items:center;font-size:22px;font-weight:800}
.viewer .group{display:flex;gap:8px}
@media (max-width:640px){ .viewer .btnIcon{width:44px;height:44px;font-size:24px} }

/* Floating photos: show WHOLE image (no crop) */
.photo{position:absolute;object-fit:contain;background:#fff;border:1px solid rgba(0,0,0,.08);opacity:0.5;transition:opacity .6s ease;z-index:1;pointer-events:none;box-shadow:0 5px 24px rgba(0,0,0,.12)}
</style>

</head>
<body>
<header>
<div class="wrap nav">
<div><a class="brand" href="#top"><span class="wordmark">MURI MURI</span></a></div>
<nav><a href="#" id="contactBtn"> Lu cerrado, Ma: 10-14, Mi-Do: 10-20 </a></nav>
<div style="text-align:right"><a href="https://instagram.com/murimuricafe" rel="noopener" target="_blank">INSTAGRAM</a></div>
</div>
</header><section aria-label="Área interactiva" class="playfield" id="playfield">
<img alt="Muri Muri logo" id="logo" src="assets/logo.png"/>
</section><div class="dock">
<div class="row">
<a href="https://maps.google.com/?q=Muri%20Muri%20Caf%C3%A9%20Coyoac%C3%A1n" rel="noopener" target="_blank"> 04100 Coyoacán, CDMX</a>
<a href="assets/menu_1.pdf" rel="noopener" target="_blank">Menú (PDF)</a>
<a href="https://wa.me/525669657508" rel="noopener" target="_blank">
<svg aria-hidden="true" class="icon" viewbox="0 0 24 24">
<path d="M18.1 15.9c-.3.8-1.6 1.6-2.3 1.7-.6.1-1.4.1-2.3-.1a9.8 9.8 0 0 1-4.7-2.6A10.7 10.7 0 0 1 5.9 9c-.2-1 .2-1.7.5-2.1.3-.4.7-.5 1.1-.5h.8c.2 0 .5.2.6.6l.7 1.7c.1.3 0 .6-.1.8l-.4.6-.2.3c-.1.1 0 .4.1.6.3.6.9 1.4 1.6 2.1.7.7 1.5 1.3 2.1 1.6.2.1.5.2.6.1l.3-.2.6-.4c.2-.1.5-.2.8-.1l1.7.7c.4.1.6.4.6.6 0 .4-.1.8-.2 1z" fill="#0f0f0f"></path>
<circle cx="12" cy="12" fill="none" r="10" stroke="#0f0f0f" stroke-width="1.5"></circle>
</svg>
      WhatsApp: 5669657508
    </a>
<a href="mailto:hola@murimuri.coffee" rel="noopener">
<svg aria-hidden="true" class="icon" viewbox="0 0 24 24">
<path d="M3 6.5A2.5 2.5 0 0 1 5.5 4h13A2.5 2.5 0 0 1 21 6.5v11A2.5 2.5 0 0 1 18.5 20h-13A2.5 2.5 0 0 1 3 17.5v-11z" fill="none" stroke="#0f0f0f" stroke-width="1.5"></path>
<path d="M4 7l8 6 8-6" fill="none" stroke="#0f0f0f" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"></path>
</svg>
      Mail: hola@murimuri.coffee
    </a>
</div>
</div>
<img alt="Logo Muri Muri" id="bouncer" src="assets/logo.png"/>
<main id="top">
<section aria-label="Galería flotante" id="stage">
<figure class="bubble" data-key="1" data-open="shop"><img alt="Tienda" decoding="async" height="230" loading="eager" src="assets/foto1.jpg" width="230"/><figcaption>Tienda</figcaption></figure>
<figure class="bubble" data-key="2" data-open="info"><img alt="Info" decoding="async" height="230" loading="eager" src="assets/foto2.jpg" width="230"/><figcaption>Info</figcaption></figure>
<figure class="bubble" data-key="3" data-open="map"><img alt="Mapa" decoding="async" height="230" loading="eager" src="assets/foto3.jpg" width="230"/><figcaption>Mapa</figcaption></figure>
<figure class="bubble" data-key="4" data-open="contact"><img alt="Contacto" decoding="async" height="230" loading="eager" src="assets/foto4.jpg" width="230"/><figcaption>Contacto</figcaption></figure>
<figure class="bubble" data-key="5" data-open="menu"><img alt="Menú" decoding="async" height="230" loading="eager" src="assets/foto5.jpg" width="230"/><figcaption>Menú</figcaption></figure>
<figure class="bubble" data-key="6"><img alt="Mensual" decoding="async" height="230" loading="eager" src="assets/foto6.jpg" width="230"/><figcaption>Mensual</figcaption></figure>
<figure class="bubble" data-key="7"><img alt="7" decoding="async" height="230" loading="eager" src="assets/foto7.jpg" width="230"/><figcaption>7</figcaption></figure>
<figure class="bubble" data-key="8"><img alt="8" decoding="async" height="230" loading="eager" src="assets/foto8.jpg" width="230"/><figcaption>8</figcaption></figure>
</section>
<div id="locked">
    
    <sectiion style="padding:12px 0 0">
<p>
<a class="btn" href="mailto:hola@murimuri.coffee">hola@murimuri.coffee</a>
<a class="btn" href="https://wa.me/525669657508" rel="noopener" target="_blank">WhatsApp 5669657508</a>
<a class="btn primary" href="#" id="openMenu">Menú</a>
</p>
</section>
<section style="padding:0 0 40px">
<canvas aria-label="Juego: salta con espacio o toque" height="260" id="runner" width="960"></canvas>
<div class="tiny">Espacio o toque para saltar. Enter para reiniciar.</div>
</section>



        
<footer>
<div class="wrap footer-grid">
<div>
<div class="brand"><span class="wordmark">MURI MURI</span></div>
<p class="tiny">© <span id="y"></span> Muri Muri. Todos los derechos reservados.</p>
</div>
<div><strong>Síguenos</strong><p><a href="https://instagram.com/murimuricafe" rel="noopener" target="_blank">@murimuricafe</a></p></div>
<div><strong>Contacto</strong><p><a href="mailto:hola@murimuri.coffee">hola@murimuri.coffee</a><br/><a href="https://wa.me/525669657508" rel="noopener" target="_blank">5669657508</a><br/>Coyoacán, CDMX</p></div>
</div>
</footer>
</div>
</main>
<div aria-label="Modal" aria-modal="true" class="modal" id="modal" role="dialog">
<div class="sheet"><div class="content" id="modalContent"></div></div>
</div>
<script>
    // Year
    document.getElementById('y') && (document.getElementById('y').textContent = new Date().getFullYear());

    // Modal base
    const modal = document.getElementById('modal');
    const content = document.getElementById('modalContent');
    modal.addEventListener('click', (e)=>{ if(e.target===modal) modal.classList.remove('open'); });

    // Top CONTACTO opens popup
//    document.getElementById('contactBtn').addEventListener('click', (e)=>{ e.preventDefault(); openModal('contact'); });

    /* Prefer images; fall back to PDFs only if JPG is missing */
    const MENU = [
      {img:'assets/menu_1.jpg', pdf:'assets/menu_1.pdf'},
      {img:'assets/menu_2.jpg', pdf:'assets/menu_2.pdf'},
      {img:'assets/menu_3.jpg', pdf:'assets/menu_3.pdf'}
    ];
    
    document.getElementById('openMenu')?.addEventListener('click', (e)=>{
      e.preventDefault(); openMenu(0);
    });
    
    function openMenu(start=0){
      const modal   = document.getElementById('modal');
      const content = document.getElementById('modalContent');
      modal.classList.add('open');
    
      let idx = start;
      content.innerHTML = `
        <div class="viewer">
          <div class="chrome">
            <div class="group">
              <button class="btnIcon" id="mPrev"  aria-label="Anterior">‹</button>
              <button class="btnIcon" id="mNext"  aria-label="Siguiente">›</button>
            </div>
            <button class="btnIcon" id="mClose" aria-label="Cerrar">×</button>
          </div>
          <div class="fit">
            <img id="menuImg" alt="Menú" />
            <iframe id="menuPdf"></iframe>
          </div>
        </div>`;
    
      const img = content.querySelector('#menuImg');
      const pdf = content.querySelector('#menuPdf');
    
      function show(i){
        idx = (i + MENU.length) % MENU.length;
        img.style.display='none'; pdf.style.display='none';
        img.src = MENU[idx].img + '?v=' + Date.now();  // cache-buster while testing
        img.onload  = ()=> { img.style.display='block'; };
        img.onerror = ()=> {
          if (MENU[idx].pdf){
            pdf.src = MENU[idx].pdf + '#toolbar=0&navpanes=0&scrollbar=0&statusbar=0&messages=0&scrollbar=0';
            pdf.style.display='block';
          }
        };
      }
    
      content.querySelector('#mClose').onclick = ()=> modal.classList.remove('open');
      content.querySelector('#mPrev').onclick  = ()=> show(idx-1);
      content.querySelector('#mNext').onclick  = ()=> show(idx+1);
    
      // keyboard + swipe
      const onKey = (e)=>{ if(e.key==='Escape') modal.classList.remove('open');
                           if(e.key==='ArrowLeft')  show(idx-1);
                           if(e.key==='ArrowRight') show(idx+1); };
      document.addEventListener('keydown', onKey, {once:false});
    
      let sx=0, fit=content.querySelector('.fit');
      fit.addEventListener('touchstart', e=> sx=e.changedTouches[0].clientX, {passive:true});
      fit.addEventListener('touchend',   e=>{
        const dx = e.changedTouches[0].clientX - sx;
        if(Math.abs(dx)>40) (dx>0 ? show(idx-1) : show(idx+1));
      }, {passive:true});
    
      show(start);
    }
    // Other modal content
    function openModal(kind){
      modal.classList.add('open'); content.innerHTML='';
      if(kind==='map'){
        const i=document.createElement('iframe'); i.loading='lazy';
        i.src='https://www.google.com/maps?q=Muri%20Muri%20Caf%C3%A9%20Coyoac%C3%A1n&output=embed'; content.appendChild(i);
      } else if(kind==='contact'){
        const w=document.createElement('div'); w.className='pad';
        w.innerHTML=`<p><strong>Correo:</strong> <a class="btn" href="mailto:hola@murimuri.coffee">hola@murimuri.coffee</a></p>
                     <p><strong>WhatsApp:</strong> <a class="btn primary" href="https://wa.me/525669657508" target="_blank" rel="noopener">5669657508</a></p>
                     <p><strong>Dirección:</strong> Coyoacán, CDMX</p>`; content.appendChild(w);
      } else if(kind==='info'){
        const w=document.createElement('div'); w.className='pad'; w.innerHTML='<p>Café de especialidad, pan y algo dulce en Coyoacán.</p>'; content.appendChild(w);
      } else if(kind==='shop'){
        const w=document.createElement('div'); w.className='pad'; w.innerHTML='<p>Próximamente: tienda online.</p>'; content.appendChild(w);
      }
    }

    // Random bubbles
    const stage = document.getElementById('stage');
    const bubbles = Array.from(document.querySelectorAll('.bubble'));

    window.addEventListener('load', () => {
      document.querySelectorAll('#stage img').forEach(img => {
        img.addEventListener('error', () => console.warn('Missing image:', img.src));
      });
    });

    function placeRandom(el) {
      const prevDisplay = el.style.display;
      const prevOpacity = el.style.opacity;
      el.style.display = 'block'; el.style.opacity  = 0;
      const bw = el.offsetWidth  || 230;
      const bh = el.offsetHeight || 230;
      const sw = stage.clientWidth;
      const sh = stage.clientHeight;
      if (!sw || !sh) { requestAnimationFrame(() => placeRandom(el)); return; }
      const x = Math.max(0, Math.floor(Math.random() * Math.max(1, sw - bw)));
      const y = Math.max(0, Math.floor(Math.random() * Math.max(1, sh - bh)));
      el.style.left = `${x}px`; el.style.top  = `${y}px`;
      el.style.display = prevDisplay || 'none'; el.style.opacity = prevOpacity || 0;
    }

    function showBubble(el){
      placeRandom(el);
      el.classList.add('show');
      setTimeout(()=> el.classList.remove('show'), 10000);
      const kind = el.getAttribute('data-open');
      el.onclick = kind ? (()=> openModal(kind)) : null;
    }

    const order = bubbles.map((_,i)=>i).sort(()=> Math.random()-0.5);
    order.forEach((idx,i)=> setTimeout(()=> showBubble(bubbles[idx]), i*300));

    bubbles.forEach((el, idx)=>{
      const n = idx + 1; const interval = n * 10000;
      setTimeout(()=>{ setInterval(()=> showBubble(el), interval); }, interval);
    });

    // Bouncing logo
    (function(){
      const el    = document.getElementById('bouncer');
      const stage = document.getElementById('stage');
      let vx = 3.1, vy = 2.9;
      let x = 20,  y = 0;
      let opened = false;

      function bounds(){
        const header   = document.querySelector('header');
        const topLimit = (header?.getBoundingClientRect().height || 68) + 4;
        const h        = opened ? (topLimit + stage.clientHeight) : window.innerHeight;
        return { top: topLimit, bottom: h, left: 0, right: window.innerWidth };
      }

      function step(){
        const b  = bounds();
        const bw = el.offsetWidth, bh = el.offsetHeight;
        if (y < b.top + 6) y = b.top + 6;
        x += vx; y += vy;
        if (x <= b.left)        { x = b.left;        vx *= -1; }
        if (x + bw >= b.right)  { x = b.right - bw;  vx *= -1; }
        if (y <= b.top)         { y = b.top;         vy *= -1; }
        if (y + bh >= b.bottom) { y = b.bottom - bh; vy *= -1; }
        el.style.transform = `translate(${x}px, ${y}px)`;
        requestAnimationFrame(step);
      }
      requestAnimationFrame(step);

      const locked = document.getElementById('locked');
      const gameSection = document.getElementById('runner')?.parentElement?.parentElement;
      let gameInited = false;
      el.addEventListener('click', ()=>{
        if(!opened){ opened = true; locked.style.display='block'; }
        if(!gameInited){ initRunner(); gameInited = true; }
        gameSection && gameSection.scrollIntoView({behavior:'smooth'});
      });
    })();

    // Game with coffee bean obstacles
    function initRunner(){
      const cvs = document.getElementById('runner'); const ctx = cvs.getContext('2d');
      let running = true; const G = 0.6, JUMP = -11; const ground = cvs.height - 28;
      const player = {x:80, y:ground, vy:0, w:56, h:56}; let obstacles = [];
      const sprite = new Image(); sprite.src = 'assets/recurso.png';
      const bean   = new Image(); bean.src   = 'assets/bean.png';

      function reset(){ player.y=ground; player.vy=0; obstacles=[]; running=true; }
      function spawn(){ const size = 26 + Math.random()*14; obstacles.push({x:cvs.width+20, y:ground, w:size, h:size, size}); }
      let spawnGap = 0;

      function draw(){
        ctx.clearRect(0,0,cvs.width,cvs.height);
        ctx.strokeStyle = 'rgba(0,0,0,.15)'; ctx.beginPath(); ctx.moveTo(0, ground+2); ctx.lineTo(cvs.width, ground+2); ctx.stroke();
        if(sprite.complete && sprite.naturalWidth){ ctx.drawImage(sprite, player.x-14, player.y - player.h, player.w, player.h); }
        else{ ctx.fillStyle = '#935c4d'; ctx.fillRect(player.x, player.y - player.h, player.w, player.h); }
        obstacles.forEach(o=>{
          if (bean.complete && bean.naturalWidth){
            ctx.drawImage(bean, o.x - o.size/2, o.y - o.size, o.size, o.size);
          } else {
            ctx.fillStyle = '#6b3e2e';
            ctx.beginPath();
            ctx.ellipse(o.x, o.y - o.size/2, o.size/2.4, o.size/1.9, 0.4, 0, Math.PI*2);
            ctx.fill();
            ctx.strokeStyle = 'rgba(0,0,0,.25)';
            ctx.beginPath();
            ctx.moveTo(o.x - o.size/4, o.y - o.size);
            ctx.quadraticCurveTo(o.x, o.y - o.size/2, o.x - o.size/6, o.y);
            ctx.stroke();
          }
        });
      }

      function update(){
        if(!running) return;
        player.vy += G; player.y += player.vy; if(player.y > ground){ player.y = ground; player.vy = 0; }
        const speed = 5.2; obstacles.forEach(o=> o.x -= speed); obstacles = obstacles.filter(o=> o.x + o.w > 0);
        spawnGap -= speed; if(spawnGap <= 0){ spawn(); spawnGap = 240 + Math.random()*220; }
        for(const o of obstacles){ if(player.x < o.x + o.w && player.x + player.w > o.x && player.y > o.y - o.h){ running = false; } }
      }
      (function loop(){ update(); draw(); requestAnimationFrame(loop); })();
      function jump(){ if(player.y === ground){ player.vy = JUMP; } }
      cvs.addEventListener('pointerdown', jump);
      document.addEventListener('keydown', (e)=>{ if(e.code==='Space'){ e.preventDefault(); jump(); } if(e.code==='Enter' && !running){ reset(); } });
      cvs.addEventListener('click', ()=>{ if(!running){ reset(); } });
    }
  </script>
<script>
// === Landing playfield logic: bounded bouncing logo + sequential photo spawns (7 x 15s) ===
(function(){
  const field = document.getElementById('playfield');
  const logo  = document.getElementById('logo');
  if(!field || !logo) return;

  // Bounded bounce (slow)
  let x=20,y=20,vx=1.0,vy=0.8,lw=640,lh=200;
  function measure(){ const r = logo.getBoundingClientRect(); if(r.width){ lw=r.width; lh=r.height; } }
  logo.addEventListener('load', measure); setTimeout(measure, 200);
  function step(){
    const fw=field.clientWidth, fh=field.clientHeight;
    x += vx; y += vy;
    if(x<=0 || x+lw>=fw) vx *= -1;
    if(y<=0 || y+lh>=fh) vy *= -1;
    logo.style.transform = `translate(${x}px,${y}px)`;
    requestAnimationFrame(step);
  }
  requestAnimationFrame(step);

  // Unlock + scroll to game on click (integrates with site's #locked + initRunner())
  const locked = document.getElementById('locked');
  const gameCanvas = document.getElementById('runner');
  let gameInited = false;
  logo.addEventListener('click', ()=>{
    if(locked){ locked.style.display='block'; }
    if(!gameInited && typeof initRunner === 'function'){ initRunner(); gameInited = true; }
    if(gameCanvas){ gameCanvas.parentElement?.parentElement?.scrollIntoView({behavior:'smooth'}); }
  });

  // === Sequential photos (one visible at a time) ===
  const PHOTO_URLS = [
    "assets/foto1.jpg","assets/foto2.jpg","assets/foto3.jpg","assets/foto4.jpg",
    "assets/foto5.jpg","assets/foto6.jpg","assets/foto7.jpg"
  ];
  const DURATION = 15000; // 15s visible
  const ASPECT = 0.67;    // ~4:3

  // Pre-create 7 nodes
  const nodes = PHOTO_URLS.map((src,i)=>{
    const img = document.createElement('img');
    img.className = 'photo';
    img.src = src;
    img.alt = 'Foto ' + (i+1);
    field.appendChild(img);
    return img;
  });

  function rint(min,max){ return Math.floor(Math.random()*(max-min+1))+min; }
  function randomSize(){
    // Bigger buckets
    const bucket = rint(0,2);
    let w = bucket===0 ? 220 : (bucket===1 ? 280 : 340);
    w += rint(-14, 24);
    const h = Math.round(w * ASPECT);
    return { w, h };
  }
  function placeRandom(img, w, h){
    const maxX = Math.max(0, field.clientWidth - w);
    const maxY = Math.max(0, field.clientHeight - h);
    const x = rint(0, maxX);
    const y = rint(0, maxY);
    img.style.left = x + 'px';
    img.style.top  = y + 'px';
    img.style.width  = w + 'px';
    img.style.height = h + 'px';
  }

  let idx = 0;
  function showNext(){
    // Hide all first
    nodes.forEach(n => n.classList.remove('show'));
    const img = nodes[idx];
    const {w,h} = randomSize();
    placeRandom(img, w, h);
    requestAnimationFrame(()=> img.classList.add('show'));
    idx = (idx + 1) % nodes.length;
    setTimeout(showNext, DURATION);
  }
  showNext();
})();
</script></body>
</html>
